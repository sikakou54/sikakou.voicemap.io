<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="VoiceMapのプライバシーポリシー。ユーザーの個人情報の取り扱いと保護について説明します。">
    <meta name="keywords" content="VoiceMap, プライバシーポリシー, 個人情報保護, マインドマップ, 音声入力">
    <meta name="author" content="VoiceMap">

    <!-- OGP Tags -->
    <meta property="og:title" content="プライバシーポリシー - VoiceMap">
    <meta property="og:description" content="VoiceMapのプライバシーポリシー。ユーザーの個人情報の取り扱いと保護について説明します。">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="VoiceMap">

    <title>プライバシーポリシー - VoiceMap</title>
    <style>
        /* ========================================
           共通スタイル - VoiceMap
           ======================================== */

        /* リセット・基本設定 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, Arial, sans-serif;
            line-height: 1.8;
            color: #333;
            background: #f8f9fa;
        }

        /* スキップリンク（アクセシビリティ） */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: #667eea;
            color: white;
            padding: 8px 16px;
            text-decoration: none;
            z-index: 100;
            border-radius: 0 0 4px 0;
        }

        .skip-link:focus {
            top: 0;
        }

        /* コンテナ */
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* ヘッダー */
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 16px;
        }

        .logo {
            font-size: 28px;
            font-weight: bold;
            text-decoration: none;
            color: white;
            transition: opacity 0.2s;
        }

        .logo:hover,
        .logo:focus {
            opacity: 0.9;
        }

        .back-link {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: opacity 0.2s;
            padding: 8px 16px;
            border-radius: 4px;
        }

        .back-link:hover,
        .back-link:focus {
            opacity: 0.8;
            background: rgba(255, 255, 255, 0.1);
        }

        /* メインコンテンツ */
        main {
            min-height: calc(100vh - 200px);
        }

        .content {
            background: white;
            margin: 40px auto;
            padding: 60px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            animation: fadeIn 0.6s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* 見出し */
        h1 {
            font-size: 32px;
            margin-bottom: 10px;
            color: #667eea;
            line-height: 1.4;
        }

        .last-updated {
            color: #666;
            margin-bottom: 40px;
            font-size: 14px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e0e0e0;
        }

        h2 {
            font-size: 24px;
            margin-top: 40px;
            margin-bottom: 20px;
            color: #333;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
            scroll-margin-top: 80px; /* sticky header対応 */
        }

        h3 {
            font-size: 20px;
            margin-top: 30px;
            margin-bottom: 15px;
            color: #555;
            font-weight: 600;
        }

        /* テキスト */
        p {
            margin-bottom: 20px;
            color: #555;
        }

        ul, ol {
            margin-left: 30px;
            margin-bottom: 20px;
        }

        li {
            margin-bottom: 10px;
            color: #555;
        }

        strong {
            color: #333;
            font-weight: 600;
        }

        /* リンク */
        a {
            color: #667eea;
            transition: color 0.2s;
        }

        a:hover {
            color: #764ba2;
        }

        a:focus {
            outline: 2px solid #667eea;
            outline-offset: 2px;
        }

        /* ハイライトボックス */
        .highlight {
            background: #fff3cd;
            padding: 20px;
            border-left: 4px solid #ffc107;
            margin: 20px 0;
            border-radius: 4px;
        }

        .highlight strong {
            display: block;
            margin-bottom: 8px;
            color: #856404;
        }

        .highlight ul {
            margin-top: 10px;
        }

        /* 目次 */
        .toc {
            background: #f8f9fa;
            padding: 24px;
            border-radius: 8px;
            margin-bottom: 40px;
            border: 1px solid #e0e0e0;
        }

        .toc h2 {
            font-size: 20px;
            margin-top: 0;
            margin-bottom: 16px;
            border-bottom: none;
            color: #667eea;
        }

        .toc ul {
            list-style: none;
            margin-left: 0;
            margin-bottom: 0;
        }

        .toc > ul > li {
            margin-bottom: 8px;
        }

        .toc a {
            text-decoration: none;
            color: #555;
            display: block;
            padding: 4px 0;
            transition: all 0.2s;
        }

        .toc a:hover {
            color: #667eea;
            padding-left: 8px;
        }

        /* トップに戻るボタン */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #667eea;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
            z-index: 40;
        }

        .back-to-top.show {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            background: #764ba2;
            transform: translateY(-4px);
            box-shadow: 0 6px 16px rgba(102, 126, 234, 0.5);
        }

        .back-to-top:focus {
            outline: 2px solid #667eea;
            outline-offset: 2px;
        }

        /* フッター */
        footer {
            text-align: center;
            padding: 40px 20px;
            color: #999;
            background: white;
            margin-top: 40px;
            border-top: 1px solid #e0e0e0;
        }

        /* レスポンシブデザイン */
        @media (max-width: 768px) {
            .content {
                padding: 30px 20px;
                margin: 20px auto;
            }

            h1 {
                font-size: 24px;
            }

            h2 {
                font-size: 20px;
                scroll-margin-top: 70px;
            }

            h3 {
                font-size: 18px;
            }

            .toc {
                padding: 16px;
            }

            .back-to-top {
                bottom: 20px;
                right: 20px;
                width: 45px;
                height: 45px;
            }

            .logo {
                font-size: 24px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 16px;
            }

            .content {
                padding: 24px 16px;
                margin: 16px auto;
                border-radius: 8px;
            }

            ul, ol {
                margin-left: 20px;
            }
        }

        /* プリント用スタイル */
        @media print {
            body {
                background: white;
            }

            header,
            .back-to-top,
            .back-link {
                display: none;
            }

            .content {
                box-shadow: none;
                margin: 0;
                padding: 20px;
            }

            a {
                color: #333;
                text-decoration: underline;
            }

            .highlight {
                border: 1px solid #999;
            }
        }

        /* ダークモード対応 */
        @media (prefers-color-scheme: dark) {
            body {
                background: #1a1a1a;
                color: #e0e0e0;
            }

            .content {
                background: #2d2d2d;
                color: #e0e0e0;
            }

            h1, h2, h3 {
                color: #8a9cff;
            }

            p, li {
                color: #c0c0c0;
            }

            .last-updated {
                color: #999;
                border-bottom-color: #444;
            }

            .toc {
                background: #252525;
                border-color: #444;
            }

            .toc a {
                color: #c0c0c0;
            }

            .toc a:hover {
                color: #8a9cff;
            }

            .highlight {
                background: #3a3a1a;
                border-left-color: #ffc107;
            }

            .highlight strong {
                color: #ffd966;
            }

            footer {
                background: #2d2d2d;
                border-top-color: #444;
            }

            a {
                color: #8a9cff;
            }

            a:hover {
                color: #a8b6ff;
            }
        }
    </style>
</head>
<body>
    <!-- スキップリンク（アクセシビリティ） -->
    <a href="#main-content" class="skip-link">メインコンテンツへスキップ</a>

    <header>
        <div class="container">
            <nav class="header-content" aria-label="メインナビゲーション">
                <a href="index.html" class="logo" aria-label="VoiceMapホーム">VoiceMap</a>
            </nav>
        </div>
    </header>

    <main id="main-content">
        <div class="container">
            <article class="content">
                <h1>プライバシーポリシー</h1>
                <p class="last-updated">最終更新日: 2025年10月15日</p>

                <p>VoiceMap（以下「本アプリ」といいます）は、ユーザーのプライバシーを尊重し、個人情報の保護に努めます。本プライバシーポリシーは、本アプリがどのような情報を収集し、どのように使用するかを説明するものです。</p>

                <div class="highlight">
                    <strong>重要なポイント:</strong>
                    <ul>
                        <li>本アプリは、ユーザーの個人情報（氏名、メールアドレス等）を収集しません</li>
                        <li>作成されたマインドマップは、すべてユーザーの端末内に保存されます</li>
                        <li>音声認識とAI処理のため、音声データとテキストは外部サービスに送信されます</li>
                        <li>アプリ内課金の決済情報は、App Storeが管理し、当社は収集しません</li>
                        <li>レシート検証のため、購入ID等の購入情報を当社サーバーに保存します（7年間保管）</li>
                        <li>Google AdMobによる広告を表示します（パーソナライズされていない広告のみ）</li>
                        <li>リワード広告視聴履歴は端末内に保存され、1日3回まで視聴可能です</li>
                    </ul>
                </div>

                <!-- 目次 -->
                <nav class="toc" aria-label="目次">
                    <h2>目次</h2>
                    <ul>
                        <li><a href="#section1">1. 収集する情報</a></li>
                        <li><a href="#section2">2. 情報の保存場所</a></li>
                        <li><a href="#section3">3. 情報の利用目的</a></li>
                        <li><a href="#section4">4. 情報の第三者提供</a></li>
                        <li><a href="#section5">5. セキュリティ</a></li>
                        <li><a href="#section6">6. ユーザーの権利</a></li>
                        <li><a href="#section7">7. クッキーおよびトラッキング技術</a></li>
                        <li><a href="#section8">8. 分析ツール</a></li>
                        <li><a href="#section9">9. 広告について</a></li>
                        <li><a href="#section10">10. プライバシーポリシーの変更</a></li>
                        <li><a href="#section11">11. データ保持期間</a></li>
                        <li><a href="#section12">12. お問い合わせ</a></li>
                        <li><a href="#section13">13. 準拠法</a></li>
                    </ul>
                </nav>

                <h2 id="section1">1. 収集する情報</h2>

                <h3>1.1 本アプリが端末内で管理する情報</h3>
                <p>本アプリは、以下の情報をユーザーの端末内でのみ管理します：</p>
                <ul>
                    <li><strong>音声データ:</strong> ユーザーがマイクを通じて入力した音声（録音時のみ一時的に保持）</li>
                    <li><strong>テキストデータ:</strong> 音声から変換されたテキストおよびマインドマップの内容</li>
                    <li><strong>マインドマップデータ:</strong> ノード、関係性、レイアウト情報等</li>
                    <li><strong>設定情報:</strong> ダークモード、言語設定等のアプリ設定</li>
                    <li><strong>音声認識時間:</strong> 残り時間、使用履歴、月間無料枠の受け取り履歴</li>
                    <li><strong>利用状況:</strong> 1日あたりの利用回数（利用制限の管理用）</li>
                    <li><strong>リワード広告視聴履歴:</strong> 日付ごとの視聴回数（1日3回制限の管理用）</li>
                </ul>

                <h3>1.2 当社サーバーに保存する情報</h3>
                <p>レシート検証のため、以下の情報を当社のサーバーに保存します：</p>
                <ul>
                    <li><strong>購入ID:</strong> Apple社が発行する購入固有のID</li>
                    <li><strong>商品ID:</strong> 購入した時間パック</li>
                    <li><strong>購入日時:</strong> 購入が完了した日時</li>
                    <li><strong>付与した時間:</strong> 音声認識時間（分）</li>
                    <li><strong>価格と通貨:</strong> 購入価格（例: 300円）</li>
                    <li><strong>プラットフォーム:</strong> iOS</li>
                    <li><strong>レシートデータ:</strong> Apple社が発行したレシート情報</li>
                </ul>
                <p><strong>重要:</strong> これらの情報は、不正な購入を防止し、法的義務（レシート保管義務）を遵守するために必要です。個人を特定できる情報（氏名、メールアドレス等）は含まれません。</p>

                <h3>1.3 広告サービスが収集する可能性のある情報</h3>
                <p>本アプリは、Google AdMobを使用して広告を表示します。AdMobは、以下の情報を収集する可能性があります：</p>
                <ul>
                    <li><strong>デバイス情報:</strong> 端末のモデル、OS バージョン、画面サイズ等</li>
                    <li><strong>広告インタラクション:</strong> 広告の表示回数、クリック、視聴完了等</li>
                    <li><strong>IPアドレス:</strong> おおよその地域情報（国・都市レベル）</li>
                </ul>
                <p><strong>重要:</strong> 本アプリでは、<strong>パーソナライズされていない広告のみ</strong>を表示する設定としています。これにより、ユーザーの閲覧履歴や興味関心に基づく広告は表示されません。</p>
                <p>AdMobのプライバシーポリシー: <a href="https://policies.google.com/privacy" target="_blank" rel="noopener noreferrer">Google プライバシーポリシー</a></p>

                <h3>1.4 本アプリが収集しない情報</h3>
                <p>本アプリは、以下の情報を収集しません：</p>
                <ul>
                    <li>氏名、メールアドレス等の個人を特定できる情報</li>
                    <li>位置情報（正確な位置情報）</li>
                    <li>連絡先情報</li>
                    <li>クレジットカード情報等の決済情報（アプリ内課金の決済は、App Storeが管理します）</li>
                    <li>広告識別子（IDFA）を使用したトラッキング</li>
                    <li>閲覧履歴、検索履歴等の行動データ</li>
                </ul>

                <h2 id="section2">2. 情報の保存場所</h2>

                <h3>2.1 ローカルストレージ</h3>
                <p>ユーザーが作成したマインドマップ、設定情報等は、すべてユーザーの端末内（ローカルストレージ）に保存されます。当社のサーバーには一切保存されません。</p>

                <h3>2.2 外部サービスへの送信</h3>
                <p>音声認識およびAI処理機能を提供するため、以下の情報が外部サービスに送信されます：</p>
                <ul>
                    <li><strong>音声認識サービス:</strong> 音声データ（音声認識・文字起こし用）</li>
                    <li><strong>AI処理サービス:</strong> テキストデータ（マインドマップの自動生成用）</li>
                </ul>
                <p>これらの外部サービスへの送信は、暗号化通信を使用します。データ取り扱いについては、以下を参照してください：</p>
                <ul>
                    <li><a href="https://openai.com/privacy" target="_blank" rel="noopener noreferrer">サービス提供者のプライバシーポリシー</a></li>
                </ul>
                <p><strong>データ保持期間:</strong> サービス提供者のポリシーによると、送信されたデータは一定期間保持され、その後削除されます。</p>

                <h3>2.3 当社サーバーへの送信</h3>
                <p>アプリ内課金のレシート検証のため、以下の情報が当社のサーバーに送信されます：</p>
                <ul>
                    <li><strong>Apple社が発行したレシート情報:</strong> 購入ID、商品ID、購入日時、価格等を含む</li>
                    <li><strong>購入リクエスト情報:</strong> 購入した商品ID、期待される付与時間</li>
                </ul>
                <p>レシート検証により、Apple社が発行した正規のレシートであることを確認します。検証に成功したレシート情報は保存されます（保管期間: 7年間、その後自動削除）。</p>

                <h2 id="section3">3. 情報の利用目的</h2>
                <p>収集した情報は、以下の目的でのみ使用されます：</p>

                <h3>3.1 端末内で管理する情報</h3>
                <ul>
                    <li><strong>音声データ:</strong> 外部サービスでテキストに変換するため</li>
                    <li><strong>テキストデータ:</strong> 外部AIサービスでマインドマップを自動生成するため</li>
                    <li><strong>マインドマップデータ:</strong> ユーザーが作成したマインドマップを保存・表示するため</li>
                    <li><strong>設定情報:</strong> ユーザーの好みに合わせてアプリをカスタマイズするため</li>
                    <li><strong>音声認識時間:</strong> 無料枠・購入した時間の残高を管理し、音声認識機能の利用可否を判断するため</li>
                    <li><strong>利用状況:</strong> 1日あたりの利用回数制限を管理するため</li>
                    <li><strong>リワード広告視聴履歴:</strong> 1日3回までの視聴制限を管理し、報酬（音声認識時間1分）を付与するため</li>
                </ul>

                <h3>3.2 当社サーバーに保存する情報</h3>
                <ul>
                    <li><strong>レシート情報:</strong> アプリ内課金の正当性を検証し、不正な購入を防止するため</li>
                    <li><strong>購入履歴:</strong> 法的義務（レシート保管義務: 7年間）を遵守するため</li>
                    <li><strong>購入ID:</strong> 重複購入を防止するため</li>
                </ul>
                <p>当社は、これらの情報をマーケティング、広告配信、第三者への販売等の目的で使用することは一切ありません。</p>

                <h2 id="section4">4. 情報の第三者提供</h2>
                <p>当社は、以下の場合を除き、ユーザーの情報を第三者に提供することはありません：</p>
                <ul>
                    <li>ユーザーの同意がある場合</li>
                    <li>法令に基づく場合（裁判所の命令、警察からの要請等）</li>
                    <li>本アプリの機能提供に必要な外部サービスへの送信：
                        <ul>
                            <li><strong>音声認識サービス:</strong> 音声データを送信</li>
                            <li><strong>AI処理サービス:</strong> テキストデータを送信</li>
                            <li><strong>Apple App Store:</strong> アプリ内課金の決済処理（App Storeが管理）</li>
                            <li><strong>Google AdMob:</strong> 広告表示のため、デバイス情報・広告インタラクション情報を送信（パーソナライズされていない広告のみ）</li>
                        </ul>
                    </li>
                </ul>
                <p><strong>重要:</strong> 当社は、ユーザーの個人情報を広告会社、データブローカー等の第三者に販売することは一切ありません。AdMobによって収集される情報については、Googleのプライバシーポリシーをご参照ください。</p>

                <h2 id="section5">5. セキュリティ</h2>
                <p>本アプリは、ユーザーの情報を保護するため、以下の対策を講じています：</p>
                <ul>
                    <li>データは端末内にのみ保存され、外部サーバーには保存されません</li>
                    <li>外部APIとの通信はHTTPS（暗号化通信）を使用します</li>
                </ul>

                <h2 id="section6">6. ユーザーの権利</h2>
                <p>ユーザーは、以下の権利を有します：</p>
                <ul>
                    <li><strong>データの削除:</strong> アプリをアンインストールすることで、端末内のすべてのデータを削除できます</li>
                    <li><strong>データのエクスポート:</strong> PDF出力機能を使用して、マインドマップを外部に保存できます</li>
                    <li><strong>設定の変更:</strong> いつでもアプリの設定を変更できます</li>
                </ul>

                <h2 id="section7">7. クッキーおよびトラッキング技術</h2>
                <p>本アプリは、クッキーやその他のトラッキング技術を使用しません。</p>

                <h2 id="section8">8. 分析ツール</h2>
                <p>本アプリは、現在、分析ツール（Google Analytics等）を使用していません。将来的に使用する場合は、本ポリシーを更新してお知らせします。</p>

                <h2 id="section9">9. 広告について</h2>

                <h3>9.1 広告表示について</h3>
                <p>本アプリは、Google AdMobを使用して広告を表示します。広告は以下の2種類があります：</p>
                <ul>
                    <li><strong>バナー広告:</strong> ホーム画面およびマインドマップ画面の一部に表示されます</li>
                    <li><strong>リワード広告:</strong> ユーザーが任意で視聴できる動画広告。視聴完了で音声認識時間1分を獲得</li>
                </ul>

                <h3>9.2 パーソナライズされていない広告</h3>
                <p>本アプリでは、<strong>パーソナライズされていない広告のみ</strong>を表示する設定としています。</p>
                <ul>
                    <li><strong>パーソナライズされていない広告とは:</strong> ユーザーの閲覧履歴や興味関心に基づかない広告</li>
                    <li><strong>表示される広告:</strong> コンテンツやアプリのカテゴリ、おおよその地域情報（国・都市レベル）に基づく広告</li>
                    <li><strong>使用されない情報:</strong> 過去の閲覧履歴、検索履歴、広告クリック履歴等</li>
                </ul>

                <h3>9.3 リワード広告の制限</h3>
                <p>リワード広告には、以下の制限があります：</p>
                <ul>
                    <li><strong>視聴回数制限:</strong> 1日3回まで</li>
                    <li><strong>報酬:</strong> 1回の視聴完了で音声認識時間1分を獲得</li>
                    <li><strong>視聴履歴:</strong> 端末内に保存されます</li>
                </ul>

                <h3>9.4 AdMobによるデータ収集</h3>
                <p>Google AdMobは、広告表示のために以下の情報を収集する可能性があります：</p>
                <ul>
                    <li>デバイス情報（端末モデル、OS バージョン、画面サイズ等）</li>
                    <li>広告インタラクション（表示回数、クリック、視聴完了等）</li>
                    <li>IPアドレス（おおよその地域情報）</li>
                </ul>
                <p>詳細については、<a href="https://policies.google.com/privacy" target="_blank" rel="noopener noreferrer">Googleプライバシーポリシー</a>および<a href="https://support.google.com/admob/answer/6128543" target="_blank" rel="noopener noreferrer">AdMobヘルプ</a>をご参照ください。</p>

                <h3>9.5 広告表示の停止方法</h3>
                <p>現在、本アプリでは広告表示を完全に停止するオプションは提供していません。ただし、リワード広告は任意で視聴するため、視聴しないことを選択できます。</p>

                <h2 id="section10">10. プライバシーポリシーの変更</h2>
                <p>当社は、必要に応じて本プライバシーポリシーを変更することがあります。変更後のプライバシーポリシーは、本アプリ内または当社ウェブサイトに掲載した時点から効力を生じます。</p>

                <h2 id="section11">11. データ保持期間</h2>

                <h3>11.1 端末内のデータ</h3>
                <p>ユーザーが作成したマインドマップ、設定情報等は、ユーザーがアプリをアンインストールするか、手動で削除するまで端末内に保持されます。</p>

                <h3>11.2 当社サーバーのデータ</h3>
                <p>レシート情報（購入ID、購入日時等）は、法的保管期間（7年間）経過後、自動的に削除されます。具体的には：</p>
                <ul>
                    <li><strong>保管期間:</strong> 購入日から7年間</li>
                    <li><strong>削除方法:</strong> 自動削除機能により削除</li>
                    <li><strong>削除後:</strong> データは完全に削除され、復元できません</li>
                </ul>

                <h3>11.3 外部サービスのデータ</h3>
                <p>外部サービスのポリシーによると、送信されたデータは一定期間保持され、その後削除されます。詳細は、各サービス提供者のプライバシーポリシーを参照してください。</p>

                <h2 id="section12">12. お問い合わせ</h2>
                <p>本プライバシーポリシーに関するご質問、ご意見がございましたら、以下のメールアドレスまでご連絡ください。</p>
                <p><strong>Email:</strong> <a href="mailto:voicemap.developer@gmail.com">voicemap.developer@gmail.com</a></p>

                <h2 id="section13">13. 準拠法</h2>
                <p>本プライバシーポリシーは、日本法に準拠し、解釈されるものとします。</p>

                <p style="margin-top: 40px; text-align: right; color: #999;">以上</p>
            </article>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 VoiceMap. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // 目次リンクのアクティブ状態管理（オプション）
        const sections = document.querySelectorAll('h2[id]');
        const tocLinks = document.querySelectorAll('.toc a');

        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (pageYOffset >= (sectionTop - 100)) {
                    current = section.getAttribute('id');
                }
            });

            tocLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
